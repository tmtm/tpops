# $Id: tpops.conf,v 1.8.2.1 2002/02/24 18:01:51 tommy Exp $

Port = 110
Hostname = `uname -n`.chomp
ConnectionKeepTime = 60*60	# 1 hour
CommandTimeout = 5*60		# 5 minutes
Mailbox = "MySQL"		# "MySQL" or "Maildir"
MaildirCRLF = false
WithInetd = false
#LogFile = '/var/log/tpops.log'
ErrorFile = '/var/log/tpops.err'	# used when WithInetd

MySQL_Server = 'localhost'
MySQL_User = 'user'
MySQL_Pass = 'passwd'
MySQL_DB = 'tpops'

AuthQuery = "select uid, passwd from user where login='%s'"
AuthQuery_Maildir = "select uid, passwd, maildir from user where login='%s'"

#------------------------
# If you want POP_before_SMTP feature, then enable following lines.
# and run popb4smtp-clean.
# And make your smtp server to check tpops.pbs MySQL table.
# 
#class TPOPS
#  def after_auth_hook(sock, auth, mailbox)
#    m = Mysql::new(MySQL_Server, MySQL_User, MySQL_Pass, MySQL_DB)
#    m.query("replace into pbs (ip) values ('#{m.quote sock_to_addr sock}')")
#    m.close
#  end
#end
